<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyBuddy â€” Insights</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="insights.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">StudyBuddy</h1>
                <p class="tagline">Stay motivated & productive</p>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h4 class="nav-title">MAIN MENU</h4>
                    <ul class="nav-links">
                        <li><a href="index.html" class="nav-link">ğŸ  Home</a></li>
                        <li><a href="calendar.html" class="nav-link">ğŸ“… Calendar</a></li>
                        <li><a href="ghost.html" class="nav-link">ğŸ‘» Ghost Mode</a></li>
                        <li><a href="insights.html" class="nav-link active">ğŸ“Š Insights</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h4 class="nav-title">ACCOUNT</h4>
                    <ul class="nav-links">
                        <li><a href="#" class="nav-link">ğŸ‘¤ Profile</a></li>
                        <li><a href="#" class="nav-link">âš™ï¸ Settings</a></li>
                        <li><a href="#" class="nav-link">ğŸšª Logout</a></li>
                        <li><a href="#" id="resetAllBtn" class="nav-link">â™»ï¸ Reset Data</a></li>
                    </ul>
                </div>
            </nav>

            <div class="user-profile">
                <img src="bee.jpg" alt="Profile" class="profile-img">
                <div class="profile-info">
                    <h3>Laevatain</h3>
                    <p>Web Developer</p>
                </div>
            </div>
        </aside>

        <main class="main-content insights-main">
            <div class="insights-header">
                <div class="header-left">
                    <span class="icon-circle">ğŸ“Š</span>
                    <div class="header-text">
                        <h2>Insights</h2>
                        <p class="subtitle">Your study intelligence â€” Improve over time</p>
                    </div>
                </div>
            </div>

            <div class="insights-content">
                <section class="insight-card personality-card">
                    <h3>ğŸ§  Study Personality Analyzer</h3>
                    <div class="personality-result">
                        <p class="personality-type">Your Study Type: <strong id="personalityType">Sprinter</strong></p>
                        <p>You focus best in:</p>
                        <ul>
                            <li>âœ” Short sessions (10â€“20 min)</li>
                            <li>âœ” Active recall</li>
                        </ul>
                        <p class="personality-suggestion">Suggestion: Use Quick Challenge daily</p>
                    </div>
                </section>

                <section class="insight-card confusion-card">
                    <h3>ğŸ”´ Confusion Tracker</h3>
                    <p>Topics you struggle with:</p>
                    <ul class="confusion-list" id="confusionList">
                        <!-- Filled by JS -->
                    </ul>
                    <button class="btn btn-yes" id="reviewConfusionBtn">Review Now</button>
                </section>

                <section class="insight-card progress-card">
                    <h3>ğŸ“ˆ Progress</h3>
                    <p>This week:</p>
                    <ul>
                        <li>âœ” <span id="sessionsCount">5</span> sessions</li>
                        <li>âœ” <span id="accuracyPercent">70</span>% accuracy</li>
                    </ul>
                    <p class="burnout-note">âš ï¸ High fatigue on Thursday</p>
                </section>

                <section class="insight-card mood-card">
    <h3>ğŸ˜Š Recent Moods</h3>
    <ul id="moodHistoryList" class="mood-history-list"></ul>
</section>
            </div>
        </main>
    </div>

    <script src="stats.js"></script>
    <script src="insights.js"></script>
    <script>
    document.getElementById('resetAllBtn')?.addEventListener('click', function(e){
        e.preventDefault();
        if (!confirm('Reset all StudyBuddy data (stats, tasks, sessions)? This cannot be undone.')) return;
        const keys = ['user_stats','todoItems','calendarTasks','events','focusHistory','burnoutHistory','ghostSession','study_sessions'];
        keys.forEach(k => localStorage.removeItem(k));
        alert('Data reset. Refreshing.');
        location.reload();
    });
    </script>
</body>
</html>
